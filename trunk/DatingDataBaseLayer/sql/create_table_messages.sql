CREATE TABLE MESSAGES
(
  MESSAGE_ID NUMBER NOT NULL,
  USER_FROM_ID NUMBER NOT NULL,
  USER_TO_ID NUMBER NOT NULL,
  MESSAGE_TEXT VARCHAR2(4000) NOT NULL
, CONSTRAINT MESSAGES_PK PRIMARY KEY
  (
    MESSAGE_ID
  )
  ENABLE
)
;

ALTER TABLE MESSAGES
ADD CONSTRAINT MESSAGES_USERS_FK1 FOREIGN KEY
(
  USER_FROM_ID
)
REFERENCES USERS
(
USER_ID
)
ON DELETE CASCADE ENABLE
;

ALTER TABLE MESSAGES
ADD CONSTRAINT MESSAGES_USERS_FK2 FOREIGN KEY
(
  USER_TO_ID
)
REFERENCES USERS
(
USER_ID
)
ON DELETE CASCADE ENABLE
;
